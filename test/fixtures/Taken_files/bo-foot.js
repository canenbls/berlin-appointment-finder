var BO={init:{}},formValidate=(jQuery(function(e){for(var t in BO.init)"object"==typeof module&&"object"==typeof module.exports&&(e=jQuery=require("jquery")),BO.init[t].apply(window,[e])}),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports=BO,global.BO=BO):(window.BO=BO,"function"==typeof define&&define.amd&&define("bo",[],function(){return BO})),String.prototype.quotehtml||(String.prototype.quotehtml=function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(""+this).replace(/[&<>"'\/]/g,function(e){return t[e]})}),!function(d,u,h){var p,m,f,g,H,R,K,W,v,y,b,A,q,z,l,e,a,r,U,G,w,C,k,$,x,E,T,B,_,S,Z,O,o,i={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return d(this).attr("href")},title:function(){return this.title},createImg:function(){var n=new Image,e=d(this).data("cbox-img-attrs");return"object"==typeof e&&d.each(e,function(e,t){n[e]=t}),n},createIframe:function(){var n=u.createElement("iframe"),e=d(this).data("cbox-iframe-attrs");return"object"==typeof e&&d.each(e,function(e,t){n[e]=t}),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),n.name=(new Date).getTime(),n.allowFullscreen=!0,n}},I="colorbox",L="cbox",j=L+"Element",J=L+"_open",V=L+"_load",s=L+"_complete",c=L+"_cleanup",Y=L+"_closed",X=L+"_purge",Q=d("<a/>"),D="div",ee=0,te={};function F(e,t,n){e=u.createElement(e);return t&&(e.id=L+t),n&&(e.style.cssText=n),d(e)}function ne(){return h.innerHeight||d(h).height()}function ie(e,n){n!==Object(n)&&(n={}),this.cache={},this.el=e,this.value=function(e){var t;return void 0===this.cache[e]&&(void 0!==(t=d(this.el).attr("data-cbox-"+e))?this.cache[e]=t:void 0!==n[e]?this.cache[e]=n[e]:void 0!==i[e]&&(this.cache[e]=i[e])),this.cache[e]},this.get=function(e){e=this.value(e);return"function"==typeof e?e.call(this.el,this):e}}function oe(e){var t=v.length,e=(E+e)%t;return e<0?t+e:e}function M(e,t){return Math.round((/%/.test(e)?("x"===t?y.width():ne())/100:1)*parseInt(e,10))}function ae(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function re(e,t){return e.get("retinaUrl")&&1<h.devicePixelRatio?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function le(e){"contains"in m[0]&&!m[0].contains(e.target)&&e.target!==p[0]&&(e.stopPropagation(),m.focus())}function N(e){N.str!==e&&(m.add(p).removeClass(N.str).addClass(e),N.str=e)}function P(e){d(u).trigger(e),Q.triggerHandler(e)}t=L+"Slideshow_",de="click."+L;var se,ce,t,de,ue=function(){se?w.get("slideshow")||(Q.unbind(c,fe),fe()):w.get("slideshow")&&v[1]&&(se=!0,Q.one(c,fe),(w.get("slideshowAuto")?pe:me)(),e.show())};function n(){clearTimeout(ce)}function he(){(w.get("loop")||v[E+1])&&(n(),ce=setTimeout(O.next,w.get("slideshowSpeed")))}function pe(){e.html(w.get("slideshowStop")).unbind(de).one(de,me),Q.bind(s,he).bind(V,n),m.removeClass(t+"off").addClass(t+"on")}function me(){n(),Q.unbind(s,he).unbind(V,n),e.html(w.get("slideshowStart")).unbind(de).one(de,function(){O.next(),pe()}),m.removeClass(t+"on").addClass(t+"off")}function fe(){se=!1,e.hide(),n(),Q.unbind(s,he).unbind(V,n),m.removeClass(t+"off "+t+"on")}function ge(e){var t,n,i,o,a,r,l,s,c;S||(n=d(e).data(I),w=new ie(e,n),c=w.get("rel"),E=0,c&&!1!==c&&"nofollow"!==c?(v=d("."+j).filter(function(){return new ie(this,d.data(this,I)).get("rel")===c}),-1===(E=v.index(w.el))&&(v=v.add(w.el),E=v.length-1)):v=d(w.el),B||(B=_=!0,N(w.get("className")),m.css({visibility:"hidden",display:"block",opacity:""}),b=F(D,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),g.css({width:"",height:""}).append(b),C=H.height()+W.height()+g.outerHeight(!0)-g.height(),k=R.width()+K.width()+g.outerWidth(!0)-g.width(),$=b.outerHeight(!0),x=b.outerWidth(!0),e=M(w.get("initialWidth"),"x"),n=M(w.get("initialHeight"),"y"),i=w.get("maxWidth"),t=w.get("maxHeight"),w.w=Math.max((!1!==i?Math.min(e,M(i,"x")):e)-x-k,0),w.h=Math.max((!1!==t?Math.min(n,M(t,"y")):n)-$-C,0),b.css({width:"",height:w.h}),O.position(),P(J),w.get("onOpen"),G.add(z).hide(),m.focus(),w.get("trapFocus")&&u.addEventListener&&(u.addEventListener("focus",le,!0),Q.one(Y,function(){u.removeEventListener("focus",le,!0)})),w.get("returnFocus")&&Q.one(Y,function(){d(w.el).focus()})),i=parseFloat(w.get("opacity")),p.css({opacity:i==i?i:"",cursor:w.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),w.get("closeButton")?U.html(w.get("close")).appendTo(g):U.appendTo("<div/>"),l=O.prep,s=++ee,T=!(_=!0),P(X),P(V),w.get("onLoad"),w.h=w.get("height")?M(w.get("height"),"y")-$-C:w.get("innerHeight")&&M(w.get("innerHeight"),"y"),w.w=w.get("width")?M(w.get("width"),"x")-x-k:w.get("innerWidth")&&M(w.get("innerWidth"),"x"),w.mw=w.w,w.mh=w.h,w.get("maxWidth")&&(w.mw=M(w.get("maxWidth"),"x")-x-k,w.mw=w.w&&w.w<w.mw?w.w:w.mw),w.get("maxHeight")&&(w.mh=M(w.get("maxHeight"),"y")-$-C,w.mh=w.h&&w.h<w.mh?w.h:w.mh),e=w.get("href"),Z=setTimeout(function(){q.show()},100),w.get("inline")?(o=d(e).eq(0),r=d("<div>").hide().insertBefore(o),Q.one(X,function(){r.replaceWith(o)}),l(o)):w.get("iframe")?l(" "):w.get("html")?l(w.get("html")):ae(w,e)?(e=re(w,e),T=w.get("createImg"),d(T).addClass(L+"Photo").bind("error."+L,function(){l(F(D,"Error").html(w.get("imgError")))}).one("load",function(){s===ee&&setTimeout(function(){var e;w.get("retinaImage")&&1<h.devicePixelRatio&&(T.height=T.height/h.devicePixelRatio,T.width=T.width/h.devicePixelRatio),w.get("scalePhotos")&&(a=function(){T.height-=T.height*e,T.width-=T.width*e},w.mw&&T.width>w.mw&&(e=(T.width-w.mw)/T.width,a()),w.mh)&&T.height>w.mh&&(e=(T.height-w.mh)/T.height,a()),w.h&&(T.style.marginTop=Math.max(w.mh-T.height,0)/2+"px"),v[1]&&(w.get("loop")||v[E+1])&&(T.style.cursor="pointer",d(T).bind("click."+L,function(){O.next()})),T.style.width=T.width+"px",T.style.height=T.height+"px",l(T)},1)}),T.src=e):e&&A.load(e,w.get("data"),function(e,t){s===ee&&l("error"===t?F(D,"Error").html(w.get("xhrError")):d(this).contents())}))}function ve(){m||(o=!1,y=d(h),m=F(D).attr({id:I,class:!1===d.support.opacity?L+"IE":"",role:"dialog",tabindex:"-1"}).hide(),p=F(D,"Overlay").hide(),q=d([F(D,"LoadingOverlay")[0],F(D,"LoadingGraphic")[0]]),f=F(D,"Wrapper"),g=F(D,"Content").append(z=F(D,"Title"),l=F(D,"Current"),r=d('<button type="button"/>').attr({id:L+"Previous"}),a=d('<button type="button"/>').attr({id:L+"Next"}),e=d('<button type="button"/>').attr({id:L+"Slideshow"}),q),U=d('<button type="button"/>').attr({id:L+"Close"}),f.append(F(D).append(F(D,"TopLeft"),H=F(D,"TopCenter"),F(D,"TopRight")),F(D,!1,"clear:left").append(R=F(D,"MiddleLeft"),g,K=F(D,"MiddleRight")),F(D,!1,"clear:left").append(F(D,"BottomLeft"),W=F(D,"BottomCenter"),F(D,"BottomRight"))).find("div div").css({float:"left"}),A=F(D,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),G=a.add(r).add(l).add(e)),u.body&&!m.parent().length&&d(u.body).append(p,m.append(f,A))}d[I]||(d(ve),(O=d.fn[I]=d[I]=function(t,e){var n=this;return t=t||{},"function"==typeof n&&(n=d("<a/>"),t.open=!0),n[0]&&(ve(),m)&&(o||(o=!0,a.on("click",function(){O.next()}),r.on("click",function(){O.prev()}),U.on("click",function(){O.close()}),p.on("click",function(){w.get("overlayClose")&&O.close()}),d(u).bind("keydown."+L,function(e){var t=e.keyCode;B&&w.get("escKey")&&27===t&&(e.preventDefault(),O.close()),B&&w.get("arrowKey")&&v[1]&&!e.altKey&&(37===t?(e.preventDefault(),r.trigger("click")):39===t&&(e.preventDefault(),a.trigger("click")))}),"function"==typeof d.fn.on?d(u).on("click."+L,"."+j,i):d("."+j).live("click."+L,i)),1)&&(e&&(t.onComplete=e),n.each(function(){var e=d.data(this,I)||{};d.data(this,I,d.extend(e,t))}).addClass(j),new ie(n[0],t).get("open")&&ge(n[0])),n;function i(e){1<e.which||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),ge(this))}}).position=function(t,e){var n,i,o,a,r=0,l=0,s=m.offset();function c(){H[0].style.width=W[0].style.width=g[0].style.width=parseInt(m[0].style.width,10)-k+"px",g[0].style.height=R[0].style.height=K[0].style.height=parseInt(m[0].style.height,10)-C+"px"}y.unbind("resize."+L),m.css({top:-9e4,left:-9e4}),i=y.scrollTop(),o=y.scrollLeft(),w.get("fixed")?(s.top-=i,s.left-=o,m.css({position:"fixed"})):(r=i,l=o,m.css({position:"absolute"})),!1!==w.get("right")?l+=Math.max(y.width()-w.w-x-k-M(w.get("right"),"x"),0):!1!==w.get("left")?l+=M(w.get("left"),"x"):l+=Math.round(Math.max(y.width()-w.w-x-k,0)/2),!1!==w.get("bottom")?r+=Math.max(ne()-w.h-$-C-M(w.get("bottom"),"y"),0):!1!==w.get("top")?r+=M(w.get("top"),"y"):r+=Math.round(Math.max(ne()-w.h-$-C,0)/2),m.css({top:s.top,left:s.left,visibility:"visible"}),f[0].style.width=f[0].style.height="9999px",n={width:w.w+x+k,height:w.h+$+C,top:r,left:l},t&&(a=0,d.each(n,function(e){n[e]!==te[e]&&(a=t)}),t=a),te=n,t||m.css(n),m.dequeue().animate(n,{duration:t||0,complete:function(){c(),_=!1,f[0].style.width=w.w+x+k+"px",f[0].style.height=w.h+$+C+"px",w.get("reposition")&&setTimeout(function(){y.bind("resize."+L,O.position)},1),"function"==typeof e&&e()},step:c})},O.resize=function(e){var t;B&&((e=e||{}).width&&(w.w=M(e.width,"x")-x-k),e.innerWidth&&(w.w=M(e.innerWidth,"x")),b.css({width:w.w}),e.height&&(w.h=M(e.height,"y")-$-C),e.innerHeight&&(w.h=M(e.innerHeight,"y")),e.innerHeight||e.height||(t=b.scrollTop(),b.css({height:"auto"}),w.h=b.height()),b.css({height:w.h}),t&&b.scrollTop(t),O.position("none"===w.get("transition")?0:w.get("speed")))},O.prep=function(e){var t,o;B&&(o="none"===w.get("transition")?0:w.get("speed"),b.remove(),(b=F(D,"LoadedContent").append(e)).hide().appendTo(A.show()).css({width:(w.w=w.w||b.width(),w.w=w.mw&&w.mw<w.w?w.mw:w.w,w.w),overflow:w.get("scrolling")?"auto":"hidden"}).css({height:(w.h=w.h||b.height(),w.h=w.mh&&w.mh<w.h?w.mh:w.h,w.h)}).prependTo(g),A.hide(),d(T).css({float:"none"}),N(w.get("className")),t=function(){var e,t,n=v.length;function i(){!1===d.support.opacity&&m[0].style.removeAttribute("filter")}B&&(t=function(){clearTimeout(Z),q.hide(),P(s),w.get("onComplete")},z.html(w.get("title")).show(),b.show(),1<n?("string"==typeof w.get("current")&&l.html(w.get("current").replace("{current}",E+1).replace("{total}",n)).show(),a[w.get("loop")||E<n-1?"show":"hide"]().html(w.get("next")),r[w.get("loop")||E?"show":"hide"]().html(w.get("previous")),ue(),w.get("preloading")&&d.each([oe(-1),oe(1)],function(){var e=v[this],e=new ie(e,d.data(e,I)),t=e.get("href");t&&ae(e,t)&&(t=re(e,t),u.createElement("img").src=t)})):G.hide(),w.get("iframe")?(e=w.get("createIframe"),w.get("scrolling")||(e.scrolling="no"),d(e).attr({src:w.get("href"),class:L+"Iframe"}).one("load",t).appendTo(b),Q.one(X,function(){e.src="//about:blank"}),w.get("fastIframe")&&d(e).trigger("load")):t(),"fade"===w.get("transition")?m.fadeTo(o,1,i):i())},"fade"===w.get("transition")?m.fadeTo(o,0,function(){O.position(0,t)}):O.position(o,t))},O.next=function(){!_&&v[1]&&(w.get("loop")||v[E+1])&&(E=oe(1),ge(v[E]))},O.prev=function(){!_&&v[1]&&(w.get("loop")||E)&&(E=oe(-1),ge(v[E]))},O.close=function(){B&&!S&&(B=!(S=!0),P(c),w.get("onCleanup"),y.unbind("."+L),p.fadeTo(w.get("fadeOut")||0,0),m.stop().fadeTo(w.get("fadeOut")||0,0,function(){m.hide(),p.hide(),P(X),b.remove(),setTimeout(function(){S=!1,P(Y),w.get("onClosed")},1)}))},O.remove=function(){m&&(m.stop(),d[I].close(),m.stop(!1,!0).remove(),p.remove(),S=!1,m=null,d("."+j).removeData(I).removeClass(j),d(u).unbind("click."+L).unbind("keydown."+L))},O.element=function(){return d(w.el)},O.settings=i)}(jQuery,document,window),!function(c){c.fn.rwdImageMaps=function(){var e=this;return c(window).on("resize",function(){e.each(function(){var t;void 0!==c(this).attr("usemap")&&(t=c(this),c("<img />").on("load",function(){var o=t.attr("width"),a=t.attr("height"),r=(o&&a||((e=new Image).src=t.attr("src"),o=o||e.width,a=a||e.height),t.width()/100),l=t.height()/100,e=t.attr("usemap").replace("#",""),s="coords";c('map[name="'+e+'"]').find("area").each(function(){for(var e=c(this),t=(e.data(s)||e.data(s,e.attr(s)),e.data(s).split(",")),n=new Array(t.length),i=0;i<n.length;++i)n[i]=i%2==0?parseInt(t[i]/o*100*r):parseInt(t[i]/a*100*l);e.attr(s,n.toString())})}).attr("src",t.attr("src")))})}).trigger("resize"),this}}(jQuery),!function(t){t(function(){var e;t.support.transition=(e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}())&&{end:e}})}(window.jQuery),!function(r){function i(e){this.element=r(e)}i.prototype={constructor:i,show:function(){var e,t,n=this.element,i=n.closest("ul:not(.dropdown-menu)"),o=(o=n.attr("data-target"))||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"");n.parent("li").hasClass("active")||(e=i.find(".active:last a")[0],t=r.Event("show",{relatedTarget:e}),n.trigger(t),t.isDefaultPrevented())||(t=r(o),this.activate(n.parent("li"),i),this.activate(t,t.parent(),function(){n.trigger({type:"shown",relatedTarget:e})}))},activate:function(e,t,n){var i=t.find("> .active"),o=n&&r.support.transition&&i.hasClass("fade");function a(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}o?i.one(r.support.transition.end,a):a(),i.removeClass("in")}};var e=r.fn.tab;r.fn.tab=function(n){return this.each(function(){var e=r(this),t=e.data("tab");t||e.data("tab",t=new i(this)),"string"==typeof n&&t[n]()})},r.fn.tab.Constructor=i,r.fn.tab.noConflict=function(){return r.fn.tab=e,this},r(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),r(this).tab("show")})}(window.jQuery),!function(l){function i(e,t){this.init("tooltip",e,t)}i.prototype={constructor:i,init:function(e,t,n){var i,o,a,r;for(this.type=e,this.$element=l(t),this.options=this.getOptions(n),this.enabled=!0,r=(o=this.options.trigger.split(" ")).length;r--;)"click"==(a=o[r])?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=a&&(i="hover"==a?"mouseleave":"blur",this.$element.on(("hover"==a?"mouseenter":"focus")+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,l.proxy(this.leave,this)));this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=l.extend({},l.fn[this.type].defaults,this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var t,n=l.fn[this.type].defaults,i={};if(this._options&&l.each(this._options,function(e,t){n[e]!=t&&(i[e]=t)},this),!(t=l(e.currentTarget)[this.type](i).data(this.type)).options.delay||!t.options.delay.show)return t.show();clearTimeout(this.timeout),t.hoverState="in",this.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)},leave:function(e){var t=l(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!t.options.delay||!t.options.delay.hide)return t.hide();t.hoverState="out",this.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)},show:function(){var e,t,n,i,o,a=l.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(a),!a.isDefaultPrevented())){switch(a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),i="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,a.detach().css({top:0,left:0,display:"block"}),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),e=this.getPosition(),t=a[0].offsetWidth,n=a[0].offsetHeight,i){case"bottom":o={top:e.top+e.height,left:e.left+e.width/2-t/2};break;case"top":o={top:e.top-n,left:e.left+e.width/2-t/2};break;case"left":o={top:e.top+e.height/2-n/2,left:e.left-t};break;case"right":o={top:e.top+e.height/2-n/2,left:e.left+e.width}}this.applyPlacement(o,i),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,o,a=this.tip(),r=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(e).addClass(t).addClass("in"),n=a[0].offsetWidth,i=a[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,o=!0),"bottom"==t||"top"==t?(e.left<(t=0)&&(t=-2*e.left,e.left=0,a.offset(e),n=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(t-r+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&a.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var e,t=this.tip(),n=l.Event("hide");if(this.$element.trigger(n),!n.isDefaultPrevented())return t.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?(e=setTimeout(function(){t.off(l.support.transition.end).detach()},500),t.one(l.support.transition.end,function(){clearTimeout(e),t.detach()})):t.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;!e.attr("title")&&"string"==typeof e.attr("data-original-title")||e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return l.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||l(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){e=e?l(e.currentTarget)[this.type](this._options).data(this.type):this;e.tip().hasClass("in")?e.hide():e.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var e=l.fn.tooltip;l.fn.tooltip=function(n){return this.each(function(){var e=l(this),t=e.data("tooltip");t||e.data("tooltip",t=new i(this,"object"==typeof n&&n)),"string"==typeof n&&t[n]()})},l.fn.tooltip.Constructor=i,l.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},l.fn.tooltip.noConflict=function(){return l.fn.tooltip=e,this}}(window.jQuery),!function(i){function o(e,t){this.init("popover",e,t)}o.prototype=i.extend({},i.fn.tooltip.Constructor.prototype,{constructor:o,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e=this.$element,t=this.options;return("function"==typeof t.content?t.content.call(e[0]):t.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=i(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var e=i.fn.popover;i.fn.popover=function(n){return this.each(function(){var e=i(this),t=e.data("popover");t||e.data("popover",t=new o(this,"object"==typeof n&&n)),"string"==typeof n&&t[n]()})},i.fn.popover.Constructor=o,i.fn.popover.defaults=i.extend({},i.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.fn.popover.noConflict=function(){return i.fn.popover=e,this}}(window.jQuery),!function(a){function o(e,t){this.$element=a(e),this.options=a.extend({},a.fn.collapse.defaults,t),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()}o.prototype={constructor:o,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var e,t,n,i;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),t=a.camelCase(["scroll",e].join("-")),(n=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&n.length){if((i=n.data("collapse"))&&i.transitioning)return;n.collapse("hide"),i||n.data("collapse",null)}this.$element[e](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[e](this.$element[0][t])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[e](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(e,t,n){function i(){"show"==t.type&&o.reset(),o.transitioning=0,o.$element.trigger(n)}var o=this;this.$element.trigger(t),t.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,i):i())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var e=a.fn.collapse;a.fn.collapse=function(i){return this.each(function(){var e=a(this),t=e.data("collapse"),n=a.extend({},a.fn.collapse.defaults,e.data(),"object"==typeof i&&i);t||e.data("collapse",t=new o(this,n)),"string"==typeof i&&t[i]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=o,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var t=a(this),e=t.attr("data-target")||e.preventDefault()||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),n=a(e).data("collapse")?"toggle":t.data();t[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(n)})}(window.jQuery),BO.init.horizontal_navi=function(n){function t(){n(".content-navi-top ul.level1 li.has-submenu").each(function(){n(this).hasClass("hover")&&n(this).removeClass("hover"),"hidden"!=n("ul:first",this).css("visibility")&&n("ul:first",this).css("visibility","hidden")})}n(".content-navi-top ul.level1 li").on("mouseenter",function(){n(this).addClass("hover"),n("ul:first",this).css("visibility","visible")}),n(".content-navi-top ul.level1 li").on("mouseleave",function(){n(this).removeClass("hover"),n("ul:first",this).css("visibility","hidden")}),n(".content-navi-top ul.level1 li > a").on("focus",function(e){n("li.has-submenu",this.parentNode.parentNode).each(function(){n(this).hasClass("hover")&&n(this).removeClass("hover"),"hidden"!=n("ul:first",this).css("visibility")&&n("ul:first",this).css("visibility","hidden")});var t=n(this).parent("li.has-submenu");n(t).addClass("hover"),n("ul:first",n(t)).css("visibility","visible")}),n(".content-navi-top ul.level1 > li.has-submenu:last-child > ul > li:last-child a").on("focusout",function(){t()}),n(".content-header .search input[type=search]").on("focus",function(e){t()}),n(".row-breadcrumb .breadcrumb a:first").on("focus",function(e){t()}),n(".content-navi-top").on("keydown",function(e){27===(e.keyCode||e.which)&&t()})},BO.init.balcony=function(n){n(".balconycontainer").each(function(){var e=n(".balconycontainer").length,t=BO.balcony.container();$(".header .nav",this).show(),$(".balcony-toggler-controls",this).show(),0<e&&(t.toggleElement=$(this).find(".toggle-play"),t.togglerControls=$(this).find(".balcony-toggler-controls"),t.isMobile()?(t.mainStatus="off",t.initToggler(),t.stop()):(t.mainStatus="on",t.initToggler(),t.start()),t.initNextButton($(this).find(".balcony-control.next")),t.initPrevButton($(this).find(".balcony-control.prev")),$(this).find(".nav li:not(.control) a").each(function(){var e=BO.balcony.link({Element:this});t.add(e)}))})},BO.balcony={},BO.balcony.fadeTime=400,BO.balcony.intervalTime=5e3,BO.balcony.container=function(i,e){return(i=i||{}).activeElement=null,i.timer=null,i.Elements=[],i.toggleElement=null,i.playElement=null,i.pauseElement=null,i.mainStatus=null,i.togglerControls=null,i.toggleMainstatus=function(){return"off"===i.mainStatus?(i.mainStatus="on",i.start()):(i.stop(),i.mainStatus="off"),i.mainStatus},i.setMainstatus=function(e){return"on"===e?(i.mainStatus=e,i.setTogglerStatus(e),i.start()):(i.stop(),i.mainStatus="off",i.setTogglerStatus("off")),i.mainStatus},i.setTogglerStatus=function(e){"on"===e?(i.toggleElement.addClass("status-on"),i.toggleElement.removeClass("status-off"),i.toggleElement.html("Bildwechsel anhalten"),i.toggleElement.attr("title","Bildwechsel anhalten"),i.togglerControls.find(".toggler-on").show(),i.togglerControls.find(".toggler-off").hide()):(i.toggleElement.addClass("status-off"),i.toggleElement.removeClass("status-on"),i.toggleElement.html("Bildwechsel starten"),i.toggleElement.attr("title","Bildwechsel starten"),i.togglerControls.find(".toggler-on").hide(),i.togglerControls.find(".toggler-off").show())},i.initToggler=function(e){i.setTogglerStatus(i.mainStatus),i.toggleElement.on("click",function(){var e=i.toggleMainstatus();i.setTogglerStatus(e)}),i.togglerControls.find(".toggler-off").on("click",function(){i.mainStatus="on",i.start(),i.setTogglerStatus("on"),i.togglerControls.find(".toggler-on").trigger("focus")}),i.togglerControls.find(".toggler-on").on("click",function(){i.stop(),i.mainStatus="off",i.setTogglerStatus("off"),i.togglerControls.find(".toggler-off").trigger("focus")})},i.initNextButton=function(e){e.on("click",function(){i.mainStatus="off",i.stop(),i.activate(i.next())})},i.initPrevButton=function(e){e.on("click",function(){i.mainStatus="off",i.stop(),i.activate(i.prev())})},i.add=function(t){null===i.activeElement?(i.activeElement=BO.balcony.link({Element:jQuery('<a href="#balconydummy"></a>')[0]}),i.activate(t)):i.deactivate(t),i.Elements.push(t),jQuery(t.Element).on("click",function(){return i.activate(t),i.setMainstatus("off"),!1}),jQuery(t.Element).on("keydown",function(e){if(13==e.keyCode)return i.activate(t),i.setMainstatus("off"),target=$(this).attr("href"),$(target).find("a.more").trigger("focus"),!1}),jQuery(t.Element).on("mouseout",function(){"on"===i.mainStatus&&i.start()}),jQuery(t.Element).on("mouseover",i.stop),t.$teaser.on("mouseout",function(){"on"===i.mainStatus&&i.start()}),t.$teaser.on("mouseover",i.stop)},i.isMobile=function(){var e="none"==jQuery(i.toggleElement).css("display"),t="none"==jQuery(i.togglerControls).css("display");return 1==e||1==t},i.activate=function(e){i.stop(),i.deactivate(i.activeElement),void 0!==(i.activeElement=e)&&e.activate(),i.isMobile()||i.start()},i.deactivate=function(e){void 0!==e&&e.deactivate()},i.next=function(){for(var e,t=i.Elements.slice(0),n=i.Elements.slice(0,1).pop();e=t.shift();)if(e===i.activeElement)return t.shift()||n;return n},i.prev=function(){for(var e,t=i.Elements.slice(0),n=(jQuery(t).get().reverse(),i.Elements.slice(-1).pop());e=t.pop();)if(e===i.activeElement)return t.pop()||n;return n},i.rotate=function(){i.activate(i.next())},i.start=function(){"off"!=i.mainStatus&&(i.stop(),i.timer=setTimeout(i.rotate,BO.balcony.intervalTime))},i.stop=function(){null!==i.timer&&clearTimeout(i.timer),i.timer=null},i},BO.balcony.link=function(e,t){return(e=e||{}).hidden=!1,e.id=e.Element.href.match(/#(.*)/)[1],e.$teaser=jQuery("#"+e.id),e.activate=function(){jQuery(e.Element).parents("li").addClass("active"),e.hidden&&e.$teaser.stop().fadeIn(BO.balcony.fadeTime).addClass("active"),e.hidden=!1},e.deactivate=function(){jQuery(e.Element).parents("li").removeClass("active"),e.hidden||e.$teaser.stop().fadeOut(BO.balcony.fadeTime).removeClass("active"),e.hidden=!0},e},BO.init.barrierefrei=function(t){t("ul.navSkip").length&&(t("ul.navSkip a").on("blur",function(){t(this).parents("ul.navSkip").removeClass("visible")}),t("ul.navSkip a").on("focus",function(){t(this).parents("ul.navSkip").toggleClass("visible")}),t("ul.navSkip a[href$='#aural_institutionssuche']").on("click",function(e){e.preventDefault(),t("#aural_institutionssuche").parents(".control-group").find("input[type=search]").trigger("focus")}))},BO.init.colorbox=function(n){n("a.gallery").each(function(e,t){n(t).colorbox({preload:"false",transition:"none",innerWidth:"800px",innerHeight:"600px",maxWidth:"95%",maxHeight:"95%",rel:n(this).attr("rel"),onComplete:function(){n("#cboxTitle").css({"background-color":"#FFFFFF"})},fixed:!0})}),n("a.picsgallery").each(function(e,t){n(t).colorbox({preload:"false",transition:"none",innerWidth:"800px",innerHeight:"600px",maxWidth:"95%",maxHeight:"95%",rel:n(this).data("rel"),fixed:"true",current:"{current} / {total}",onComplete:function(){n("#cboxTitle").css({"background-color":"#FFFFFF",width:"83%","padding-left":"12%","padding-right":"5%"});var e=n(".cboxPhoto").css("width"),t=n(".cboxPhoto").css("height"),e=(n(".cboxPhoto").attr("width",e),n(".cboxPhoto").attr("height",t),n(this).closest(".modul-bildergalerie").find(".title").text());n("#cboxContent .gal-title").length?n("#cboxContent .gal-title").text(e):n("#cboxContent").prepend('<h1 class="gal-title">'+e+"</h1>")},onClosed:function(){n("#cboxContent .gal-title").text("")}})})},jQuery(function(){var n=$("html, body"),i=$(".navigation-mobile"),o=($(".navigation-mobile .wrapper"),$(".navigation-mobile .nav-container")),t=$(".navigation-mobile .nav-toggle"),e=$(".navigation-mobile .has-dropdown > .menu-link");t.on("click",function(e){var t=$(this);e.preventDefault(),t.toggleClass("is-active"),o.toggleClass("is-visible"),i.toggleClass("is-open"),n.toggleClass("nav-open")}),e.on("click",function(e){e.preventDefault(),$(this).parent(".menu-item").toggleClass("is-active").children("ul.nav-dropdown").toggleClass("is-visible")}),e.on("click",".menu-link",function(e){e.stopPropagation()}),$("ul.navSkip a[href$='#mobile-nav-toggle']").on("click",function(e){return e.preventDefault(),t.toggleClass("is-active"),o.toggleClass("is-visible"),i.toggleClass("is-open"),n.toggleClass("nav-open"),jQuery("#mobile-nav-toggle").trigger("focus"),!1}),$(".js-mobile-navigation-tree").on("click",".tree__arrow",function(e){var t=$(this).parent().parent().attr("class");return $(this).parent().parent().parent().children().removeClass("tree--open"),$(this).parent().parent().attr("class",t).toggleClass("tree--open"),!1})}),BO.init.carousel=function(e){e(".carousel").carousel({interval:!1})},BO.init.mypopover=function(n){n("#zentral-popover-link").popover({html:!0,placement:function(e,t){return 500<n(t).position().top?"top":"bottom"},toggle:"popover",title:"",content:function(e){return n("#popover-login-content").html()}}).on("click",function(e){e.preventDefault()}),n(".js-langselect-link").popover({html:!0,placement:"bottom",toggle:"popover",title:!1,content:function(e){return n(".js-popover-langselect-content").html()}}).on("click",function(e){e.preventDefault()}),n("body").on("click",function(e){n(".popover-link").each(function(){n(this).is(e.target)||0!==n(this).has(e.target).length||0!==n(".popover").has(e.target).length||n(this).popover("hide")})}),n(".popover-container .event-popover").popover({html:!0,trigger:"hover",placement:"bottom",animation:!1}).on({show:function(e){var t=n(this);t.data("hoveringPopover",!0),t.data("waitingForPopoverTO")&&e.stopImmediatePropagation()},hide:function(e){var t=n(this);return t.data("forceHidePopover")?(t.data("forceHidePopover",!1),!0):(e.stopImmediatePropagation(),clearTimeout(t.data("popoverTO")),t.data("hoveringPopover",!1),t.data("waitingForPopoverTO",!0),t.data("popoverTO",setTimeout(function(){t.data("hoveringPopover")||(t.data("forceHidePopover",!0),t.data("waitingForPopoverTO",!1),t.popover("hide"))},50)),!1)}}).on({show:function(){},hide:function(){}})},BO.init.tooltip=function(e){e("body").tooltip({selector:"a[data-rel=tooltip]",trigger:"hover focus"})},BO.init.datepicker=function(o){void 0!==jQuery.fn.datepicker&&(jQuery(function(e){e.datepicker.regional.de={closeText:"Schließen",prevText:"&#x3C;Zurück",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.de)}),o(".datepicker").datepicker({dateFormat:"dd.mm.yy",showButtonPanel:!0,changeYear:!0}),o(".limiteddatepicker").each(function(e,t){var n=o(this).data("datelimitfrom"),i=o(this).data("datelimitto"),n={minDate:null,maxDate:null,dateFormat:"dd.mm.yy",changeYear:!0,yearRange:String(n+" : "+i),showButtonPanel:!0};o(this).datepicker(n)}))},BO.init.portalteaser=function(r){r(".template-land_portal .span10 .body .row").each(function(e,t){var n,i=r(t).find(".header"),o=0,a=0;r.each(i,function(e,t){a=r(t).height(),n=Number(a)+Number(6),o=o<n?n:o}),r.each(i,function(e,t){r(t).css("height",o)}),i=r(t).find(".span2 .caption"),a=o=0,r.each(i,function(e,t){a=r(t).height(),o=o<a?a:o}),r.each(i,function(e,t){r(t).css("height",o)}),i=r(t).find(".span5 .type-portalstandart .caption"),a=o=0,r.each(i,function(e,t){a=r(t).height(),o=o<a?a:o}),r.each(i,function(e,t){r(t).css("height",o)})})},BO.init.rwgimagemaps=function(e){e("img[usemap]").rwdImageMaps()},BO.init.video=function(e){e(".item_video").each(function(e,t){BO.video.showControls(t)}),BO.video.resizeAcceptLayer("accept_video"),BO.video.resizeAcceptLayer("accept_video_padding"),e(window).on("resize",function(){BO.video.resizeAcceptLayer("accept_video"),BO.video.resizeAcceptLayer("accept_video_padding")})},BO.video=(jQuery,{showControls:function(e){e=jQuery(e)[0],0!=jQuery(e).children(".mi_video_control").length&&(jQuery(e).hasClass("item_html5video")?alert("html5 video mediaelements"):jQuery(e).hasClass("item_mi5video")&&alert("wahrscheinlich movingimage Video"))},resizeAcceptLayer:function(n){$("."+n).each(function(e,t){$(t).hasClass(n+"_small"),0==$(t).hasClass("default")&&($(window).width()<540?$(t).addClass(n+"_small"):$(t).removeClass(n+"_small"))})},miplay:function(e,t){var n;e&&(n={success:function(e){e.play()},parameters:{configType:"vmpro",playerId:"1vbZCF6fMpezmkhZVJUtHX",videoId:e.replace("MI","").replace(t,""),apiUrl:"//d.video-cdn.net/play",flashPath:"//e.video-cdn.net/v2/",token:"***"}});try{VideoPlayer.Collection.addPlayerById(e,n)}catch(e){console.log(e)}}}),BO.init.mejs_focus=function(n){n(".mejs-controls .mejs-button button").each(function(e,t){n(t).on("click",function(e){n(this).trigger("blur")})})},BO.init.formbreaker=function(l){if(0<l.find(".formpagebreak").length)for(var n,e,s=l.find("fieldset"),i=[],o=[],a=[],r=0,c=0,t=(i.push(0),l.each(s,function(e,t){1==r&&l(t).addClass("hidden"),l(t).hasClass("formpagebreak")&&(n=l(t).attr("id").replace(/pagebreak/g,""),a.push(n),i.push(e+1),1<a.length&&o.push(e),r=1),c=e}),o.push(c),0);e=a.length,0==t?d("#back"+a[t],i[e-1],o[e-1],"move"):d("#back"+a[t],i[t-1],o[t-1]),d("#forth"+a[t],i[t],o[t]),++t<a.length;);function d(e,a,r,t){e=l(e);e.bind("click",function(){for(var e,t=a,n=r,i=!0,o=t;o<=n;o++)e=l(s[o]).attr("id"),l(s[o]).hasClass("hidden")||formValidate.validate(document.getElementById(e))||(i=!1);if(0!=i)for(o=t;o<=n;o++)l(s[o]).toggleClass("hidden")}),"move"==t&&l(".form_submitbutton").before(e)}},{msg_error_general:"Das Formular kann nicht verarbeitet werden! Bitte korrigieren Sie die hervorgehobenen Felder.",msg_error_required:"Dieses Feld darf nicht leer sein.",msg_error_checked:"Bitte suchen Sie eine Option aus.",msg_error_check:"Bitte haken Sie dieses Feld an.",msg_error_pattern:"Diese Angaben können nicht verarbeitet werden.",msg_error_kontakt:"Ihre Absenderangaben fehlen, obwohl Sie eine Antwort wünschen.",msg_error_emval:"Beide E-Mail-Adressen müssen identisch sein.",validate:function(e,t){var n=this,i=!1,o=($('button[id^="forth_"]').each(function(e){i=!0}),i||this.removeAllErrorMessages(),!0);return null!=e&&void 0!==e.action&&"string"!=typeof e.action&&e.action.remove(),$(e).find("input, select, textarea").map(function(){o=("radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")?n.validateInput(this):n.validateCheckbox(this,e))&&o}),o=this.validateKontakt(e)&&o,this.removeErrorMessages(o,e),o||t||(window.scrollTo(0,0),alert(BO.translate.translate(this.msg_error_general)),$.find(".control-group.error",function(){$("html, body").animate({scrollTop:$(".control-group.error").offset().top},0)}),$("#aural_maincontent").trigger("focus")),null!=e&&void 0!==e.action&&o&&"string"==typeof(t=e.getAttribute("action"))&&!/#/.test(t)&&(e.action=t+"#top"),null!==e&&void 0!==e.id&&(0==e.id.indexOf("page")?window.location.href="#form_1":"string"==typeof e.id&&""!==e.id&&(window.location.href="#"+e.id)),o},validateKontakt:function(e){return"Ja"!=$("input:checked[name='Antwortwunsch']").val()||!(!$("#form_email").get(0)||""==$("#form_email").val())||!(!$('input[name="Absender_Strasse"]').get(0)||""==$('input[name="Absender_Strasse"]').val()||""==$('input[name="Absender_Ort"]').val())||($("#form_email").get(0)&&this.addError($("#form_email").get(0),BO.translate.translate("Eingabefeld"),BO.translate.translate(this.msg_error_kontakt),!0),$('input[name="Absender_Strasse"]').get(0)&&(this.addError($("input[name='Absender_Strasse']").get(0),BO.translate.translate("Eingabefeld"),BO.translate.translate(this.msg_error_kontakt),!0),this.addError($("input[name='Absender_Ort']").get(0),BO.translate.translate("Eingabefeld"),BO.translate.translate(this.msg_error_kontakt),!0)),!1)},validateInput:function(e){if(!e.disabled){if(!e.checkValidity())return console&&console.log(e.id+": "+e.validationMessage),this.addError(e,BO.translate.translate("Eingabefeld"));if(e.getAttribute("data-validcontent")&&e.value){var t=e.getAttribute("data-validcontent");if(t=(t=(t=(t=t.replace("&amp;","&")).replace("&quot;",'"')).replace("&lt;","<")).replace("&gt;",">"),!RegExp("^(?:"+t+")$","i").test(e.value))return this.addError(e,BO.translate.translate("Eingabefeld"))}else if(e.className&&-1!=e.className.indexOf("required")&&(!e.value||""==e.value||/^--.*--$/.test(e.value)))return this.addError(e,BO.translate.translate("Eingabefeld"),BO.translate.translate(this.msg_error_required));if("form_emailval"==e.id&&$("#form_email").val()!=$("#form_emailval").val())return this.addError(e,BO.translate.translate("Eingabefeld"),BO.translate.translate(this.msg_error_emval),!0)}return!0},validateCheckbox:function(e,t){var n=e;if(n.disabled||!n.className||-1==n.className.indexOf("required"))return!0;for(var i=0,o=e.id;document.getElementById(o=o.replace(/_[0-9]+$/,"_"+i));){if(document.getElementById(o).checked)return!0;i++}return this.addError(n,"Selectfeld",1<i?BO.translate.translate(this.msg_error_checked):BO.translate.translate(this.msg_error_check))},addError:function(e,t,n,i){var o,a,r,l,s,c=$(e).parents(".control-group");return c&&(l=e.getAttribute("data-helptext"),o=(o=$(c).parents("fieldset"))||$(c)[0].parentNode,s=$(c).hasClass("error"),$(c).addClass("error"),$(c).children(".control-label")&&(t+=c=' "'+(c=""==(c=(c=$(c).children(".control-label").text()).replace(/ \*.*/g,""))?$(e).val().trim():c)+'": '),e.className&&-1!=e.className.indexOf("nomsg")||!l&&!n||(c=$(o).prev(),$(c).hasClass("formerrormessage")?s||(r="<li>",r=(r+="<strong>"+t+"</strong> ")+(!i&&l||n)+"</li>",a=$(r),$(c).find("ul").append(a)):(r='<div class="formerrormessage" id="error-'+o[0].id+'">',r=(r=(r+='<h2 class="title2">'+BO.translate.translate("Bitte überprüfen Sie diese Eingabe(n)")+":</h2>")+'<ul class="list error"><li><strong>'+t+"</strong> ")+(!i&&l||n)+"</li></ul></div>",a=$(r),$(o).before(a)))),!1},removeErrorMessages:function(e,t){e&&($(t)[0]&&void 0!==$(t)[0].previousSibling&&"formerrormessage"==$(t)[0].previousSibling.className&&$(t)[0].previousSibling.remove(),$(t).find(".control-group.error").removeClass("error"))},removeAllErrorMessages:function(){$(".formerrormessage").each(function(){$(this).remove()}),$(".error").each(function(){$(this).removeClass("error")})},enableElement:function(e,t){(e.disabled=t=!!t)?$(e).prop("disabled",!0).addClass("disabled"):$(e).prop("disabled",!1).removeClass("disabled")},checkDependencies:function(e,t){if(e.value)for(var n in t){var i=t[n];if(e.value==i.c){for(var o in i.e)this.enableElement(document.getElementById(i.e[o]));for(var o in i.d)this.enableElement(document.getElementById(i.d[o]),!0);return!0}}},uncheckDefault:function(e,t){var n=[];e.id==t+"__0"?(n=[],$("[id^="+t+"]").each(function(e,t){jQuery("#"+t.id).prop("checked",!1)})):$("[id^="+t+"]").each(function(e,t){$("input:checked[id="+t.id+"]").val(),$("input:checked[id="+t.id+"]").val()==$(t).val()&&n.push(t.id)}),0===n.length&&jQuery("#"+t+"__0").prop("checked",!0),1<n.length&&(jQuery("#"+t+"__0").prop("checked",!1),-1!==(e=n.indexOf(t+"__0")))&&n.splice(e,1)}}),formSummary={quotehtml:function(e,t){var n="";return e?(!t&&$(e).val()?n=$(e).val():t&&$(e).text()&&(n=$(e).text()),n.quotehtml()):""},checkit:function(e,t,n){e=document.getElementById(e);return formValidate.validate(e)?(this.changeLum("aus"),this.buildArea(t,n,0,0),$("#aural_maincontent").trigger("focus"),!0):($("#aural_maincontent").trigger("focus"),!1)},showdata:function(e){return this.buildArea(0,0,1,e),!0},buildArea:function(e,t,n,i){var o,a;"1"==n?(o=$(i),a=this.buildAreaTop(n),a=(a+=this.buildContent(o))+this.buildAreaBottom(n)):(o=$(".template-formular").find(".container2hide"),a=this.buildAreaTop("0"),i=$("#form_preview_status").val(),a=(a=(a+=this.buildContent(o))+this.buildAreaBottom())+this.buildButtons(e,t,i),"1"==i&&(a+=this.buildWarnContainer())),$(o).before(a)},buildContent:function(e){var r=this,l=$(e).hasClass("withfilter")?1:0,s="",c='<li class="row-fluid">',d='<div class="span5 cell cell-label">',u='<div class="span7 cell">',h="</div>";return $(e).addClass("cnw_skip_translation"),$(e).find("fieldset").each(function(e,t){t.id&&($(t).find(".legend").text()&&(s=(s+='<h3 class="title">')+$(t).find(".legend").text()+"</h3>"),$(this).find(".control-group"))&&(s+='<ul class="list-tablelist strait list--tablelist bordered span--4">',$(this).find(".control-group").each(function(e,t){var n,i,o="",a="";(n=$(t)[0]&&void 0!==$(t)[0].children[0]&&(i=$(t)[0].children[0]).htmlFor&&""!=i.htmlFor?i.control?$(i.control):$("#"+i.htmlFor):n)&&$(n)[0]&&(o=$(n)[0].type,a=$(n)[0].defaultValue),$(t).hasClass("clearfix")?s=(s+='<p class="textile">')+$(t).find(".textile").text()+"</p>":"file"===o&&""!==a?s=(s=(s=(s=(s=s+c+d)+r.checkTitle(t))+h)+u+a)+h+"</li>":$(t).hasClass("hidden")||$(t).hasClass("formsubmit")||1==l&&r.checkContent(t)=='<p class="align-right text--disabled">'+BO.translate.translate("LEER/NICHTS AUSGEWÄHLT")+"</p>"?s+="":s=(s=(s=(s=(s=s+c+d)+r.checkTitle(t))+h+u)+r.checkContent(t))+h+"</li>"}),s+="</ul>")}),s},checkTagName:function(e){var e=$(e).find(".controls"),t="";return t="LABEL"==(t=$(e).children().get(0)?$(e).children().get(0).nodeName:t)&&(t="",$(e).children().children().get(0))?$(e).children().children().get(0).nodeName:t},checkTagType:function(e){var e=$(e).find(".controls"),t="",n="";return $(e).children().get(0)&&(t=$(e).children().get(0).type,n=$(e).children().get(0).nodeName),t="LABEL"==n&&(t="",$(e).children().children().get(0))?$(e).children().children().get(0).type:t},checkTitle:function(e){var t=String(this.checkTagName(e)),i=(String(this.checkTagType(e)),"");return $(e).find("label").text()?($(e).find("label").each(function(e,t){if(!$(this).hasClass("radio")){var n=$(this)[0].firstChild;if(i=n&&$(n).text()?formSummary.quotehtml($(n),!0):formSummary.quotehtml($(this),!0),i=$.trim(i))return!1}}),!i&&$(e).find("label")&&(i=formSummary.quotehtml($(e).find("label"),!0))):i=-1!==t.indexOf("INPUT")&&$("input",e).hasClass("form_teaser")?formSummary.quotehtml($("input",e),!1):"INPUT"==t||"TEXTAREA"==t?'<p class="align-right">'+BO.translate.translate("EINGABEFELD")+"</p>":"DIV"==t?formSummary.quotehtml($(e).find("input"),!1):'<p class="align-right">'+BO.translate.translate("SELECTFELD")+"</p>",i=$.trim(i)},checkContent:function(e){var t,n=String(this.checkTagName(e)),i=String(this.checkTagType(e)),o="",a='<p class="align-right text--disabled">'+BO.translate.translate("LEER/NICHTS AUSGEWÄHLT")+"</p>";return-1!=n.indexOf("SELECT")&&(-1!=i.indexOf("multiple")?$("select :selected",e).map(function(e,t){$(t).val().match(/^\-\-/)||(o+=formSummary.quotehtml($(t),!1)+" ")}):(o=formSummary.quotehtml($("select :selected",e),!1)).match(/^\-\-/)&&(o="")),-1!==n.indexOf("INPUT")&&(-1!==i.indexOf("text")||-1!==i.indexOf("email")||-1!==i.indexOf("date")||-1!==i.indexOf("time")||-1!==i.indexOf("number")||-1!==i.indexOf("url")?o=formSummary.quotehtml($("input",e),!1):-1!==i.indexOf("file")?""!==(o=(o=formSummary.quotehtml($("input",e),!1)).replace(/C:\\fakepath\\/i,""))&&(t=$("input",e).attr("id"),$(e).find('input[name="UPLOAD_FILENAME_'+t+'"]').val(o.replace(/C:\\fakepath\\/i,"")),$(e).find('input[name="UPLOAD_FILENAME_'+t+'"]').text(o.replace(/C:\\fakepath\\/i,""))):-1!==i.indexOf("radio")?o=formSummary.quotehtml($("input:radio:checked",e),!1):-1!==i.indexOf("checkbox")?$("input:checkbox:checked",e).map(function(e,t){o+=formSummary.quotehtml($(t),!1)+" "}):-1!==i.indexOf("password")&&$("input",e).val()&&(o="Eingabe erfolgt.")),-1!=n.indexOf("TEXTAREA")&&(o=formSummary.quotehtml($("textarea",e),!1).replaceAll("\n","<br>")),(o=-1===n.indexOf("DIV")||"undefined"!==i||"undefined"===$(e).find("input")[0].value||"undefined"===$(e).find("input")[0].type||!$(e).find("input")[0].checked||"checkbox"!=$(e).find("input")[0].type&&"radio"!=$(e).find("input")[0].type?o:formSummary.quotehtml($(e).find("input")[0],!1))||a},buildAreaTop:function(e){var t="";return t=(t="0"==e?(t=(t=(t+='<div class="html5-section body formsuccess">')+'<p class="block alert message"><strong>'+BO.translate.translate("Hinweis")+":</strong><br />")+"<strong>"+BO.translate.translate("msgidFORMACHTUNG")+"</strong> ")+BO.translate.translate("msgidFORMBITTEKONTROLLIEREN")+"</p>":t)+'<div class="block box-gray-light add-paperclip">'+'<span class="icon-paperclip"></span>'},buildAreaBottom:function(e){var t="</div>";return 1!=e&&(t+="</div>"),t},buildButtons:function(e,t,n){var i="",n="1"==n?"button":"submit";return i+'<div class="control-group block formbuttons">'+'<div class="controls">'+('<button type="button" class="btn link link--back pull-left" onclick="formSummary.changeLum(7);" href="#top">'+BO.translate.translate("Eingaben korrigieren")+"</button>")+('<button class="btn button pull-right" id="'+e+'" type="'+n+'">'+BO.translate.translate("Formular absenden")+"</button>")+"</div></div>"},buildWarnContainer:function(){return'<p class="formbuttons block alert alert-error message message--error"><strong>Achtung:</strong><br/>In der Dokumenten-Vorschau können keine Daten verschickt werden,<br/>aus diesem Grund ist der entsprechende "Button" funktionslos.</p>'},changeLum:function(e){"aus"==e?($(".template-formular").find(".container2hide").hide(),$(".template-formular").find(".form_polldata").hide(),$(".template-formular").find(".form-generic-alert").hide(),$(".form_help").hide()):7==e?(window.location.href="#form_1",$(".formsuccess").remove(),$(".formbuttons").remove(),$(".template-formular").find(".container2hide").show(),$(".template-formular").find(".form_polldata").show(),$(".template-formular").find(".form-generic-alert").show(),$(".form_help").show()):(window.location.href="#top",$(".formsuccess").remove(),$(".formbuttons").remove(),$(".template-formular").find(".container2hide").show(),$(".template-formular").find(".form_polldata").show(),$(".template-formular").find(".form-generic-alert").show(),$(".form_help").show(),$(".formsubmit").hide())},print:function(e){1==e?($(".formprintbutton").hide(),$(".column-right").hide(),$(".content-navigation-left").hide()):($(".column-right").show(),$(".content-navigation-left").show(),$(".formprintbutton").show())}};jQuery(document).ready(function(){var e,i;function t(e){var t=i.find(".feed-tabs li.active"),n=e.children("a");0<t.length&&(i.find(".feed-box").slideUp(150).delay(150),t.removeClass("active"),n.removeClass("ic-fa-closefeedback"),n.addClass("ic-fa-openfeedback"),n.attr("title","Öffnen")),e.attr("title")!=t.attr("title")&&(i.find("#"+e.attr("class")).slideToggle(),e.addClass("active"),n.removeClass("ic-fa-openfeedback"),n.addClass("ic-fa-closefeedback"),n.attr("title","Schließen"))}jQuery(".container-wrapper.container-portal-header").length&&(e=function(){jQuery(".container-wrapper.container-portal-header").width(),jQuery(window).width();var e=jQuery(".feed-feedback").width(),t=jQuery(".container-wrapper.container-portal-header").offset();jQuery("#feedback-footer").css({width:e+"px",right:t.left+"px","z-index":"1500"})},jQuery(window).on("resize",e),jQuery(function(){e()}),jQuery(".feedback-show-email input").on("click",function(){var e=jQuery(this),e=jQuery("#"+e.attr("id")+"_f");this.checked?(e.attr("disabled",""),e.get(0).disabled=!1,e.closest(".email-hide").css("display","block")):(e.attr("disabled","disabled"),e.get(0).disabled=!0,e.closest(".email-hide").css("display","none"))}),i=jQuery("#feedback-form"),jQuery(window).width(),i.on("click",".feed-tabs li",function(e){e.stopPropagation(),t(jQuery(this))}).on("click",".close",function(e){t(jQuery(this).find("li.active"))}).on("submit","form",function(e){e.preventDefault();var e=jQuery(this),t=e.find(".feedback-show-email input");if(0<t.length&&t.get(0).checked){var t=jQuery("#"+t.attr("id")+"_f");if(!/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.([a-z][a-z]+)|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(t.val()))return alert("Diese E-Mail-Adresse ist ungültig"),!1}e.find("textarea").val()&&(t=e.serialize()+"&resolution="+encodeURIComponent(screen.width+" x "+screen.height)+"&url="+encodeURIComponent(document.location.href)+"&referrer="+encodeURIComponent(document.referrer)+"&inner_size="+encodeURIComponent(jQuery(window).width()+" x "+jQuery(window).height()),jQuery("#feed-response").html('<div class="feed-box" style="display:block;text-align:center;min-height:30px;background:url(data:image/gif;base64,R0lGODlhEAAQAPQAAP///wAAAPDw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAAKAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAAKAAEALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQACgACACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQACgADACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkEAAoABAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkEAAoABQAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkEAAoABgAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAAKAAcALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkEAAoACAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAAKAAkALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQACgAKACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQACgALACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOwAAAAAAAAAAAA==) 50% 50% no-repeat;text-indent:-3000px;">Loading&hellip;</div>'),jQuery.post(e.attr("action"),t,function(){jQuery("#feed-response").html('<div class="feed-box" style="display:block;">Vielen Dank für Ihre Nachricht.</div>')}))}))}),BO.init.formcounter=function(e){BO.init.translate(e),e(".maxchars").each(function(){BO.formcounter({Element:this}).showStatus()})},BO.formcounter=function(n,e){return(n=n||{}).statusnode='<span class="formcharquota-status" style="display:block;text-align:right"></span>',n.Status?n.Status=jQuery(n.Status):(n.Status=jQuery(n.statusnode),jQuery(n.Element).after(n.Status)),n.max=jQuery(n.Element).attr("maxlength"),n.showStatus=function(){var e=n.Element.value.length,t=e;n.max=jQuery(n.Element).attr("maxlength"),n.max&&(t+="/"+n.max),t+=" "+BO.translate.translate("Zeichen"),n.Status.text(t),e>n.max?n.Status.attr("style","display:block;text-align:right;background-color:grey;padding-right:3px;color:red"):n.Status.attr("style","display:block;text-align:right;background-color:grey;padding-right:3px;color:white"),n.Status.text(t)},jQuery(n.Element).on("keyup click focus",n.showStatus),n},BO.init.formresults=function(e){e(".form_resultcontainer").each(function(e,t){formSummary.showdata(t)})},BO.init.formtimer=function(n){var i,o;0<n("#formtimervalue").length&&(i=n("#formtimervalue").val(),i*=60,n("fieldset").last().after('<div id="formtimerinfo" class="alert alert-warning hidden">In 20 Sekunden ist die Zeit zum Ausfüllen des Formulars abgelaufen.<br/>Wenn Sie auf den Absenden-Button drücken und die Zusammenfassung bestätigen, wird Ihr Formular aus Sicherheitsgründen nicht sofort abgeschickt.<br/>Bitte überprüfen Sie sämtliche Angaben, insbesondere Angaben zu hochgeladenen Dateien.<br/>Wenn Sie dann den Absenden-Button betätigen, wird das Formular versendet.</div>'),n("fieldset").first().before('<div id="formtimermessage" class="alert alert-error hidden">Ihre Angaben konnten noch nicht übermittelt werden, da die Zeit zum Ausfüllen des Formulars überschritten wurde.<br/>Bitte fügen Sie ggf. erneut Ihre Dateien hinzu.<br/>Anschließend klicken Sie nochmals auf Absenden, vielen Dank.</div><p class="formtimer">Sie haben noch&nbsp;<i class="icon-time"></i>&nbsp;<strong><span class="formtimershow"></span></strong>&nbsp;Minuten Zeit um dieses Formular auszuf&uuml;llen.</p>'),o=window.setInterval(function(){var e,t;0<=i?(e=(e=Math.floor(i/60))<10?"0"+e:e,t=(t=i%60)<10?"0"+t:t,n(".formtimershow").text(e+":"+t),0==e&&20==t&&n("#formtimerinfo").removeClass("hidden"),i--):window.clearInterval(o)},1e3)),0<n("#formtimermessageon").length&&n("#formtimermessage").removeClass("hidden")},BO.init.simplesearch=function(i){i(".simplesearch-index .btn-addtocart, .simplesearch-detail .btn-addtocart").on("click",function(e){return BO.simplesearch.cartAddItem(e,!0)}),i(".simplesearch-warenkorb .btn-delcart").on("click",function(e){return BO.simplesearch.cartDelItem(e)}),i(".simplesearch-warenkorb .btn-itemcart").each(function(e){var t=i(this).attr("href"),t=i(this).find("label").attr("data-href",t).addClass("btn-itemcart"),n=i(this)[0].className.match(/ cart-max-([0-9]*)/),n=(null!=n&&i(t).attr("data-max",n[1]),i(this).replaceWith(i(t)),i('<a class="btn-delcart" title="Eintrag aktualisieren" href="#" onclick="return false;"><i class="fa fa-refresh"></i>Aktualisieren</a>'));i(t).after(i(n))}),i(".simplesearch-warenkorb .btn-itemcart input").on("change",function(e){return BO.simplesearch.cartSetItem(e)}).on("click",function(e){return e.stopImmediatePropagation(),e.preventDefault(),!1})},BO.simplesearch=(jQuery,{cartShowCurrent:function(e){e.stopImmediatePropagation();e=e.target;alert("Show Cart "+e.id)},cartShowMessage:function(e,t,n){var i=t.item,i=0<i&&void 0!==t.index[i]?t.index[i]:0,o="<p>Status: "+t.messages.messages.join(", ")+"</p>",e=($(e).find("h3").length?o="<p>Eintrag &quot;"+$(e).find("h3").text()+"&quot; nun im Warenkorb. ("+i+")</p>":$(e).find("h4").length&&(o="<p>Eintrag &quot;"+$(e).find("h4").text()+"&quot; nun im Warenkorb. ("+i+")</p>"),$("div.alert"));0==e.length&&(e=$('<div class="alert"></div>')),e=$(e).detach(),$(e).attr("class","alert").addClass("alert-"+(t.messages.success?"success":"error")).html(o).prependTo($(n))},cartAddItem:function(e,i){e.stopImmediatePropagation();var t,o=e.target;if("A"==o.nodeName)t=o.href;else{if("LABEL"!=o.nodeName)return!1;t=$(o).attr("data-href")}return $.ajax({type:"GET",url:t,dataType:"json",withCredentials:!0,xhrFields:{withCredentials:!0},success:function(e){var t,n;void 0!==e.messages&&e.messages.success&&(i?((t=$(o).parents(".cartitem")).find(".btn-addtocart").addClass("is-added"),$(".simplesearch-index #results").length||$(t),n=parseInt(e.index[e.item],10),t.find("span.inner").text(n),$(o.parentNode).addClass("alert").addClass("alert-success"),setTimeout(function(){$(o.parentNode).removeClass("alert-success").removeClass("alert")},4e3)):(inp=$(o).find("input")[0],$(inp).val(parseInt($(inp).val(),10)+1))),void 0!==e.results&&$(".btn-tocart span.inner").text(+e.results.count)},error:function(e){alert("Error: Cannot add element!")}}),!1},cartSetItem:function(e){e.stopImmediatePropagation();var t,n=e.target;if("A"==n.parentNode.nodeName)t=n.parentNode.href;else{if("LABEL"!=n.parentNode.nodeName)return!1;t=$(n.parentNode).attr("data-href")}var e=parseInt(n.value,10),i=parseInt($(n.parentNode).attr("data-max"),10);return void 0!==i&&0<i&&i<e&&(n.value=i,alert("Die gewählte Anzahl übersteigt die maximale Bestellmenge. Es können maximal "+i+" Exemplare bestellt werden."),e=i),$.ajax({type:"GET",url:t.replace("add=add","set="+e),dataType:"json",withCredentials:!0,xhrFields:{withCredentials:!0},success:function(e){void 0!==e.messages&&e.messages.success&&($(n).parents(".cartitem"),$(".simplesearch-searchresult"),$(n).addClass("alert").addClass("alert-success"),setTimeout(function(){$(n).removeClass("alert-success").removeClass("alert")},4e3)),void 0!==e.results&&$(".btn-tocart span.inner").text(+e.results.count)},error:function(e){alert("Error: Cannot set element!")}}),!1},cartDelItem:function(e){e.stopImmediatePropagation();var o=e.target;return $.ajax({type:"GET",url:o.href,dataType:"json",withCredentials:!0,xhrFields:{withCredentials:!0},success:function(e){var t,n,i;void 0!==e.messages&&(0==(t=$("div.alert")).length&&(t=$('<div class="alert"></div>')),t=$(t).detach(),i="<p>Status: "+e.messages.messages.join(", ")+"</p>",e.messages.success?(n=$(o).parents(".cartrow"),i="<p>Eintrag &quot;"+$(n).find("h3").text()+"&quot; gelöscht.</p>",$(n).remove()):$(t).attr("class","alert").addClass("alert-"+(e.messages.success?"success":"error")).html(i).prependTo($(".simplesearch-warenkorb"))),void 0!==e.results&&$("span.cart-items-count").text(+e.results.count)},error:function(e){alert("Error: Cannot delete element!")}}),!1}}),BO.init.reklame=function(e){},BO.mediaelement=BO.medialement||{},BO.init.mediaelement=function(e){void 0!==window.mejs&&(window.mejs.i18n.getLanguage=function(){return"de"},BO.mediaelement.initBase()),BO.mediaelement.init(),BO.mediaelement.loadExternal()},BO.mediaelement=function(){function t(e){var t,n="script_"+e.replace(/[^A-Za-z0-9]/g,"_");jQuery("#"+n).length||(t=document.createElement("script"),e=(/\/template\//.test(document.location)?"./":"/i9f/v4/")+e,t.id=n,t.src=e,document.head.appendChild(t))}var e=[],o={lang:"de",vimeo:!1,youtube:!1},n=$("html").attr("lang")||"de",i={loop:!1,enableAutosize:!0,alwaysShowControls:!0,clickToPlayPause:!0,features:["playpause","current","progress","duration","tracks","volume","speed","fullscreen","a11y"],hideCaptionsButtonWhenEmpty:!0,jumpForwardInterval:10,speeds:["1.50","1.25","1.00","0.75"],defaultSpeed:"1.00",speedChar:"x",speedText:"Speed Rate",startLanguage:"de",tracksAriaLive:!0,enableKeyboard:!0,pauseOtherPlayers:!0,usePluginFullScreen:!1,youtubeIframeVars:{nocookie:!0,hl:o.lang,controls:2,rel:0,cc_load_policy:1,iv_load_policy:1},youtube:{nocookie:!0,hl:o.lang,controls:2,rel:0,cc_load_policy:1,iv_load_policy:1}};return{initBase:function(){jQuery.extend(window.mejs.MepDefaults,i)},init:function(){void 0!==$.fn.mediaelementplayer&&(n&&/de|ru|en/.test(n)&&(o.lang=n),o.lang&&(t("vendor/mediaelement/lang/"+o.lang+".js"),mejs.i18n.language(o.lang)),mejs.Renderers.renderers.native_flv.options.flv.path="/i9f/v4/vendor/mediaelement/renderers/flv.js",$("video").each(function(e,t){var n=jQuery.extend({},window.mejs.MepDefaults,{success:function(e,t){$("#"+t.id+"-mode").attr("title","play mode: "+e.pluginType)}}),i=($(t).attr("style"),$(t).find("source").attr("type")),i=(/youtube/.test(i),/vimeo/.test(i)&&(o.vimeo=!0),$.extend(!0,{},n,$(t).data("mediaplayer")));$(t).mediaelementplayer("player_"+$(t)[0].id,i)}),$("audio").mediaelementplayer({enableKeyboard:!0,pauseOtherPlayers:!0,success:function(e,t){$("#"+t.id+"-mode").attr("title","play mode: "+e.pluginType)}}),o.vimeo)&&e.push("vendor/mediaelement/renderers/vimeo.js")},loadExternalSingle:t,loadExternal:function(){e.forEach(function(e){t(e)})},video_accept:function(e){var t=$("#video_"+e),n=t.data("markup"),t=(t.html(n),BO.mediaelement.init(),BO.mediaelement.loadExternal(),jQuery("mediaelementwrapper#player_"+e));t.length&&(t[0].findTracks(),t[0].loadTrack(0),t[0].play())}}}(),"function"==typeof window.addEventListener&&window.addEventListener("message",function(e){if("number"==typeof e.data)for(var t=document.getElementsByTagName("iframe"),n=0;n<t.length;n++)t[n].contentWindow===e.source&&(t[n].scrolling="no",t[n].style.overflow="hidden",t[n].style.height=e.data+"px",t[n].height=e.data)}),BO.iframeelement=BO.iframeelement||{},BO.iframeelement={iframe_accept:function(e){var e=$("#iframe"+e),t=e.data("markup");e.removeClass("accept_iframe"),e.html(t)}},BO.geomap_osm_menu=function(l){var l=jQuery,t={de:{controllerTitle:"Für dieses Gebiet verfügbare Kartenschichten",closedToggleTitle:"Schichtenauswahl einblenden",openedToggleTitle:"Schichtenauswahl ausblenden",activeItemTitle:"Diese Schicht in der Karte ausblenden",inactiveItemTitle:"Diese Schicht in der Karte einblenden",listTitle:"Liste der Kartenschichten"},en:{controllerTitle:"Map layers available for this area",closedToggleTitle:"Show layer selection",openedToggleTitle:"Hide layer selection",activeItemTitle:"Hide this layer in the map",inactiveItemTitle:"Show this layer in the map",listTitle:"List of map layers"},fr:{controllerTitle:"Couches cartographiques disponibles pour cette zone",closedToggleTitle:"Afficher la sélection du calque",openedToggleTitle:"Masquer la sélection du calque",activeItemTitle:"Masquer cette couche dans la carte",inactiveItemTitle:"Afficher cette couche sur la carte",listTitle:"Liste des couches cartographiques"},it:{controllerTitle:"Livelli disponibili per questa area",closedToggleTitle:"Mostra il selettore di livelli",openedToggleTitle:"Nascondi il selettore di livelli",activeItemTitle:"Nascondi questo livello dalla mappa",inactiveItemTitle:"Mostra questo layer sulla mappa",listTitle:"Elenco dei livelli sulla mappa"},ru:{controllerTitle:"Слои карты доступны для этой области",closedToggleTitle:"Показать выбор слоя",openedToggleTitle:"Скрыть выделение слоя",activeItemTitle:"Скрыть этот слой на карте",inactiveItemTitle:"Показать этот слой на карте",listTitle:"Список слоев карты"}},n={defaultPosition:"top-right",closedToggleSymbol:"❮",openedToggleSymbol:"❯"};function i(e){this.options=l.extend(!0,{},n,e);e=l("html").attr("lang");this.i18n=t[e=e in t==!1?"de":e]}return i.prototype.onAdd=function(e){this._map=e;e=l(e.getContainer()),e.addClass("has-layer-menu-control"),e=e.find(".layer-menu-control");return(e=0===e.length?l(`<div class="layer-menu-control layer-menu-control--collapsed layer-menu--empty mapboxgl-ctrl mapboxgl-ctrl-group"
                                aria-label="${this.i18n.controllerTitle}"
                                role="region">
                            </div>`).append(`<button class="layer-menu-control_toggle justify--right" aria-expanded="true" aria-controls="layermenu1"
                                aria-label="${this.i18n.closedToggleTitle}" title="${this.i18n.closedToggleTitle}">
                            <span class="icon" aria-hidden="true">${this.options.closedToggleSymbol}</span>
                        </button>`).append(`<div class="layer-menu-inner" id="layermenu1">
                            <ul class="layer-menu-items list--clean list--ruler" aria-label="${this.i18n.listTitle}"></ul>
                        </div>`):e).on("layer-menu-control:toggle",this.toggle.bind(this)),e.find(".layer-menu-control_toggle").on("click",function(){l(this).trigger("layer-menu-control:toggle")}).trigger("click"),this._container=e.get(0)},i.prototype.toggle=function(e){var e=l(e.target).parent(".layer-menu-control").first(),t=!e.hasClass("layer-menu-control--collapsed");e.toggleClass("layer-menu-control--collapsed",t),e.find(".layer-menu-control_toggle").attr("title",t?this.i18n.closedToggleTitle:this.i18n.openedToggleTitle).attr("aria-title",t?this.i18n.closedToggleTitle:this.i18n.openedToggleTitle).find(".icon").text(t?this.options.closedToggleSymbol:this.options.openedToggleSymbol)},i.prototype.onRemove=function(e){this._container.parentNode.removeChild(this._container),this._map=void 0},i.prototype.getDefaultPosition=function(){return this.options.defaultPosition},i.prototype.addItem=function(e,t,n,i,o){var a;e.getLayer(t)?(e=l(this._container),a=n+". "+this.i18n.activeItemTitle,(a=l(`<button class="layer-menu-control_item layer-menu-control_item--active" title="${a}" aria-label="${a}" data-menu-item-id=${t}>
            <span class="text">${n||t}</span>
            ${o?`<span class="item" aria-hidden="true" style="background:${o}"></span>`:""}
        </button>`)).on("click",function(e){e.stopPropagation();e=l(e.target).closest("[data-menu-item-id]").data("menuItemId");this.toggleItem(e)}.bind(this)),l("<li></li>").append(a).appendTo(e.find(".layer-menu-items")),i||this.toggleItem(t),e.removeClass("layer-menu--empty")):console.warn("There was an attemp to add a layer menu item ("+n+") but the corresponding layer ("+t+") was not found.")},i.prototype.toggleItem=function(e){BO.geomap_osm.clear_popups();for(var t,n,i=l('[data-menu-item-id="'+e+'"]').toggleClass("layer-menu-control_item--active"),o=i.hasClass("layer-menu-control_item--active"),o=i.find(".text").text()+". "+(o?this.i18n.activeItemTitle:this.i18n.inactiveItemTitle),a=(i.attr("title",o).attr("aria-label",o),this._map.getStyle().layers),r=0;r<a.length;r++)a[r].metadata&&a[r].metadata.groupId&&!1!==(a[r].metadata&&a[r].metadata.groupId&&a[r].metadata.groupId===e)&&(t=a[r].id,n="visible"===this._map.getLayoutProperty(t,"visibility"),this._map.setLayoutProperty(t,"visibility",n?"none":"visible"));t?l(this).trigger("layer-menu-control:toggle-item",{item:t,groupId:e}):console.log("The menu item couldn't find any layer for "+t+" (group "+e+"). Please, to add a layer call `map.addLayerToGroup` instead of `map.addLayer`.")},{addControlTo:function(o,e){o._layerMenu instanceof i||(e=new i(e),o.addControl(e),o._layerMenu=e,o.hasLayerMenuControl=function(){return!!this._layerMenu},o.getLayerMenuControl=function(){return this._layerMenu},o.addLayerToGroup=function(e,t,n){var i;return e=e,(i=t).metadata=i.metadata||{},i.metadata.groupId=e||i.id,t=i,o.addLayer.call(this,t,n)})},getLayerGroup:function(e){return e.metadata.groupId}}}(jQuery),BO.init.geomap_osm=function(e){jQuery(".geomap-container.geomap-mode-osm").length&&("object"!=typeof mapboxgl?window.setTimeout("BO.init.geomap_osm(jQuery);",2e3):mapboxgl.supported()&&(jQuery(".geomap-container.geomap-mode-osm").each(function(e,t){t.geomap_osm=BO.geomap_osm.init_map(t)}),jQuery(document).on("click",".js-geomap-show-marker-at-coords",function(e){var t,n,e=jQuery(e.target).closest("[data-rel]").data();e.rel&&(n=e.rel.split(","),t=new Number(n[0]),n=new Number(n[1]),BO.geomap_osm.show_marker_at(e.mapid,t,n))})))},BO.geomap_osm=function(v){function s(i,e,t,o){var a,r=v(e).get(0).dataset,l=!0,s=(void 0!==r.layerType&&"geojson"!==r.layerType&&(l=!!(["0","1"].includes(r.layerActive)?parseInt(r.layerActive):r.layerActive)),o=t+"_layer__"+o,(e,t,n,i)=>p(e,t,n,i).then(()=>BO.geomap_osm.load_layer(e,t,n,i,l)).catch(e=>{console.error(i+" - "+e),console.error(t)}));m(r.layerSource)&&(a=()=>console.error('Unable to fetch valid GeoJSON for "'+r.layerTitle+'", from '+r.layerSource+"."),v.ajax(r.layerSource).fail(a).done((e,t,n)=>{if(200!==n.status||!e)return a();s(i,e,o,r.layerTitle)})),r.layerGeojson&&s(i,r.layerGeojson,o,r.layerTitle),v("[id^=hide-controls]").each(function(e,t){console.log("Hide controls for geomap."),v("#geomapId_"+t.id.replace("hide-controls","")).children(".mapboxgl-control-container").children(".mapboxgl-ctrl-top-right").hide()})}function c(e,t,n,i){var o,a,r,l=t.id,s=(t=v(t)).data();s.markerLong&&s.markerLat&&(o={top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-(a=s.markerHeight||50)],"bottom-left":[o=s.markerOffset||25,-1*(a-(r=s.markerRadius||10)+o)],"bottom-right":[-o,-1*(a-r+o)],left:[r,-1*(a-r)],right:[-r,-1*(a-r)]},a=t.html().trim(),t.empty(),r=s.markerPos||new mapboxgl.LngLat(s.markerLong,s.markerLat),(t=new mapboxgl.Marker({color:s.markerColor||"#253276"})).getElement().id=l+"_marker",t.getElement().map=e,v(t.getElement()).data("sourceid",""+l),t.setLngLat(r),(s.markerTitle||a)&&(l=new mapboxgl.Popup({offset:o,className:"js-geomap-popup",closeButton:!0,focusAfterOpen:!1}),s.markerTitle?l.setText(s.markerTitle):l.setHTML(a),l.setLngLat(r).addTo(e),t.setPopup(l).togglePopup()),t.addTo(e),s.markerTitle||a)&&(t.getPopup().options.focusAfterOpen=!0)}function y(e){var t,n,i,o,a=v(u.tplPopup),r=v("ul",a),l=v("li",a).first().detach(),s=e.features[0].properties;if(1<e.features.length&&e.target.zoomTo(e.target.getZoom()+1),t=void 0!==s.title&&""!==s.title?s.title:s.name||"",n=void 0!==s.description&&""!==s.description?s.description:s.text||"",i=void 0!==s.href&&""!==s.href?s.href:s.url||"",void 0!==s.links&&"string"==typeof(o=s.links)&&(o=JSON.parse(o)),i)v("[data-tpl-href]",a).each(function(){!i||n&&n.match(/Mehr.../i)?v(this).remove():v(this).attr("href",i)});else if(v.isArray(o)&&o.length&&l.length){r.empty();for(var c of o){var d=l.clone().map((e,t)=>(v(t).find("a").attr("href",c.url||"#").attr("title",c.title).attr("aria-label",c.title).text(c.title),t));console.log(d),r.append(d)}}else r.remove();v("[data-tpl-text]",a).each(function(){n?(console.log("text: "+n),v(this).html(n)):v(this).remove()}),v("[data-tpl-title]",a).each(function(){t?(console.log("title: "+t),v(this).text(t)):v(this).remove()}),console.log("TPL: "+a.text),console.log(a),(new mapboxgl.Popup).setLngLat(e.lngLat).setHTML(a.html()).addTo(e.target),this.flyTo({center:e.lngLat})}function r(){for(var e of document.getElementsByClassName("mapboxgl-popup"))e.remove()}var u={styleUrl:"https://basemap.berlin.de/gdz_basemapde_vektor/styles/bm_web_col.json",defaultImage:document.location.protocol+"//"+document.location.hostname+"/i9f/v4/css/images/osm-marker.png",defaultZoom:14,tplPopup:`<div class="geomap-popup-teaser float" style="width:300px;">
                        <h3 data-tpl-title=""></h3>
                        <div class="block body">
                            <div data-tpl-text=""></div>
                            <ul style="margin-bottom: 0">
                                <li class="list-item-style">
                                    <a href="" data-tpl-href="">mehr</a>
                                </li>
                            </ul>
                        </div>
                    </div>`},d=["#2020ff","#2f4f4f","#106410","#8b4513","#696969","#32cd32","#cd5c5c","#ff2020"],b={},h={de:{},en:{},fr:{},it:{}},p=function(a,t,e,r){try{if("string"==typeof t)t=JSON.parse(t);else if("object"!=typeof t||!t.type)return Promise.reject("Unable to parse GeoJSON; this might prevent some markers or custom icons from loading. Failing data: "+t)}catch(e){return Promise.reject("Unable to parse GeoJSON; this might prevent some markers or custom icons from loading. Failing data: "+t)}var n,i=[];for(n of t.features)if(n&&n.properties&&n.properties.icon&&m(n.properties.icon)){let o=n.properties.id,e=n.properties.icon;e="string"==typeof e&&e.replace("stg.berlin.de","ortedb-stage-imgproxy.dev.kube11.berlinonline.net"),i.push(new Promise((n,i)=>{a.loadImage(e,(e,t)=>e?(console.warn("Unable to load image from",r),i(e)):(a.hasImage(o)||(a.addImage(o,t),a.iconLoaded[o]=t),n(t)))}))}return Promise.all(i).catch(e=>console.warn('Some icons for "'+r+'" might be missing.'))},A=(e,t)=>e+t,m=e=>"string"==typeof e&&(e.startsWith("http")||e.startsWith("/"));return{init_map:function(t){var e,n,i,o,a=v("html").attr("lang"),r=(a=a in h==!1?"de":a,t.id),a=v(".js-geomap.geomap-map",t),l=a.data();if(l.markerLong&&l.markerLat)return e=a.hasClass("interactive-map"),l.markerStatic&&(e=!1),a.text(""),a.empty(),n=BO_geomap_mapboxtoken(),i=new mapboxgl.LngLat(l.markerLong,l.markerLat),(o=new mapboxgl.Map({container:a[0],style:u.styleUrl,interactive:e,center:i,zoom:"auto"==l.mapZoom?u.defaultZoom:l.mapZoom,attributionControl:!1,transformRequest:function(e,t){if("Tile"===t&&0===e.indexOf("https://maps"))return{url:e+"?token="+n,headers:{Referer:location.href}}}})).iconLoaded={},o.strokeNo=0,o.strokes=d,o.addControl(new mapboxgl.AttributionControl({compact:!1==!!l.attributionCompact})),e&&(o.addControl(new mapboxgl.NavigationControl({showZoom:!1==!!l.hideZoom,showCompass:!1==!!l.hideCompass}),"top-left"),!1==!!l.controlScale&&o.addControl(new mapboxgl.ScaleControl({maxWidth:l.scaleMaxWidth||100,unit:"metric"}),"bottom-left"),o.doubleClickZoom.enable(),o.touchZoomRotate.enable(),o.keyboard.enable(),o.dragRotate.enable(),o.boxZoom.enable(),"ontouchstart"in document.documentElement&&/Mobi|Android/i.test(navigator.userAgent)?o.dragPan.disable():o.dragPan.enable(),o.scrollZoom.disable(),!0==!!l.allowFullscreen&&o.addControl(new mapboxgl.FullscreenControl,"bottom-right"),!0==!!l.allowGeolocate)&&o.addControl(new mapboxgl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},showUserLocation:!0,trackUserLocation:!0==!!l.trackUserLocation}),"top-right"),o.on("style.load",function(e){o.loadImage(u.defaultImage,function(e,t){if(e)throw e;try{o.addImage("bomarker",t),o.iconLoaded.bomarker=t}catch(e){console.log("Unable to get fallback image",e)}}),o.on("load",function(){v(".js-geomap.geomap-marker",t).each(function(e,t){c(o,t)}),v(".js-geomap.geomap-layer",t).each(function(e,t){s(o,t,r,e)})})}),o.on("error",e=>{}),o.on("styleimagemissing",e=>{}),o;console.log("Map center coordinate missing. Cannot initialize map.")},add_marker:c,add_layer:s,load_layer:function(t,n,e,i,o){if(!n)return console.error('Unable to load layer "'+i+'"');if("string"==typeof n){if(["FooExcludedString","PolygonExcludedGeotype"].some(e=>n.includes(e)))return console.error('Unable to load unsupported GeoJSON for "'+i+'". Please, contact the administrator.'),!1;try{n=JSON.parse(n)}catch(e){}}function a(){var e=Math.round,t=Math.random;return"rgba("+e(128*t())+","+e(128*t())+","+e(128*t())+","+t().toFixed(1)+")"}var r,l,s,c,d=t,u=n,h=e,p=i,m=e=>e.replace("#","").split(/(..)/).filter(e=>e).map(e=>parseInt(e,16));if("object"==typeof u&&("FeatureCollection"===u.type&&(r=u.features,v.isArray(r))&&0<r.length)){c=d.strokeNo<d.strokes.length?d.strokes[d.strokeNo]:a(),d.strokeNo++;for(var f=0;f<r.length;f++){function g(e,t,n,i){if(e){var o=!1,a=m(i);if(s=t.properties,"GeometryCollection"===e.type)for(var r=0;r<e.geometries.length;r++)g(e.geometries[r],t,n,i);else"LineString"!==e.type&&"MultiLineString"!==e.type||(s["stroke-color"]=s["stroke-color"]||i,s["stroke-width"]=3,o=!0),"Polygon"!==e.type&&"MultiPolygon"!==e.type||(s["fill-color"]=s["fill-color"]||`rgba(${a.join(",")}, 0.2)`,s["fill-outline-color"]=i,o=!0);o&&(b[n]=t.properties["fill-color"]||t.properties["stroke-color"]||i)}}r[f]&&((l=r[f]).properties=l.properties||{},g(l.geometry,l,A(h,p),c),l.properties.name=l.properties.name||p)}}BO.geomap_osm_menu.addControlTo(t),console.log('addSource "'+e+'_clustered"'),t.addSource(e+"_clustered",{type:"geojson",data:n,clusterRadius:40,clusterMaxZoom:14}),console.log('addSource "'+e+'"'),t.addSource(e,{type:"geojson",data:n,cluster:!1});u=e;console.log('addLayer "'+e+'_linestring"'),t.addLayerToGroup(u,{id:e+"_linestring",type:"line",source:e,filter:["==","$type","LineString"],layout:{"line-cap":"butt",visibility:"visible"},paint:{"line-opacity":1,"line-color":{type:"identity",property:"stroke-color"},"line-width":{type:"identity",property:"stroke-width"}}}),console.log('addLayer "'+e+'_polygon"'),t.addLayerToGroup(u,{id:e+"_polygon",type:"fill",source:e,filter:["==","$type","Polygon"],layout:{visibility:"visible"},paint:{"fill-antialias":!0,"fill-outline-color":{type:"identity",property:"fill-outline-color"},"fill-color":{type:"identity",property:"fill-color"},"fill-opacity":{type:"identity",property:"fill-opacity"}}}),console.log('addLayer "'+e+'" von source '+e+"_clustered"),t.addLayerToGroup(u,{id:e,type:"symbol",source:e+"_clustered",filter:["all",["==","$type","Point"],["!has","point_count"]],minzoom:9,layout:{"icon-image":["case",["has","icon"],["coalesce",["image",["get","id"]]],["image","bomarker"]],"icon-allow-overlap":!0,"icon-size":1,"icon-offset":[4,4],"symbol-spacing":10,visibility:"visible"},paint:{"icon-color":"#253276","icon-opacity":.9}}),console.log('addLayer "'+e+'_clustercount" von source '+e+"_clustered"),t.addLayerToGroup(u,{id:e+"_clustercount",type:"symbol",source:e+"_clustered",filter:["all",["==","$type","Point"],["has","point_count"]],minzoom:8,layout:{"icon-image":"bomarker","icon-allow-overlap":!0,"icon-ignore-placement":!0,"text-allow-overlap":!0,"text-ignore-placement":!0,"icon-size":1,"icon-offset":[4,4],"symbol-spacing":10,"text-field":"{point_count_abbreviated}","text-size":24,visibility:"visible"},paint:{"icon-color":"#253276","icon-opacity":.4}}),t.on("click",e,y.bind(t)).on("mouseenter",e,function(e){t.getCanvas().style.cursor="pointer"}).on("mouseleave",e,function(e){t.getCanvas().style.cursor=""}),new mapboxgl.LngLatBounds;t.on("click",e+"_clustercount",function(e){console.log(e);var t=this.getZoom()+1;this.setCenter(e.lngLat),this.setZoom(t-.5),this.flyTo({speed:.1,zoom:t})}).on("mouseenter",e,function(e){t.getCanvas().style.cursor="pointer"}).on("mouseleave",e,function(e){t.getCanvas().style.cursor=""}),"function"==typeof t.hasLayerMenuControl&&t.hasLayerMenuControl()&&(d=A(e,i),t.getLayerMenuControl().addItem(t,u,i,o,b[d]))},show_popup:y,clear_popups:r,show_marker:function(e,t){var n=v("#"+e+"_"+t).data(),e=v("#"+e+"_"+t+"_marker")[0],t=e.map,i=t.getZoom()+1;16<i&&(i=16);t.fire("click",{type:"click",target:e,originalEvent:{target:e}},{latLng:[n.markerLat,n.markerLong]});e=new mapboxgl.LngLat(n.markerLong,n.markerLat);t.setCenter(e),t.setZoom(i-.5),t.flyTo({speed:.1,zoom:i})},show_marker_at:function(e,t,n){r();var i=u.defaultZoom,o=v("#map_"+e+" .geomap-mode-osm").get(0).geomap_osm,a=new mapboxgl.LngLat(t,n);o.setCenter(a),o.setZoom(i-.5),o.flyTo({speed:1,zoom:i}),setTimeout(()=>o.fire("click",{lngLat:a,point:o.project(a),originalEvent:{}}),500)}}}(jQuery),BO.init.translate=function(e){var t=jQuery("html").attr("lang");BO.translate.setLocale(t)},BO.translate=function(){var n={de:{msgidFORMBITTEKONTROLLIEREN:'Bitte kontrollieren Sie erst Ihre Eingaben und klicken dann auf "Formular absenden" am Ende der Seite. Um Ihre Eingaben zu korrigieren, klicken Sie auf "Eingaben korrigieren".',msgidFORMACHTUNG:"Achtung, Ihre Angaben wurden noch nicht abgeschickt."},en:{Eingabefeld:"input field",EINGABEFELD:"INPUT field",Selectfeld:"select field",SELECTFELD:"SELECT field","Dieses Feld muss zwingend ausgefüllt sein.":"This field is obligatory.","Dieses Feld darf nicht leer sein.":"This field should be not empty.","Bitte überprüfen Sie diese Eingabe(n)":"Please check your answers","Das Formular kann nicht verarbeitet werden! Bitte korrigieren Sie die hervorgehobenen Felder.":"Form cannot be processed. Please check the highlighted fields.",Zeichen:"chars","LEER/NICHTS AUSGEWÄHLT":"EMPTY/NOTHING SELECTED","Eingaben korrigieren":"Re-Edit","Formular absenden":"Send form",Hinweis:"Attention",msgidFORMBITTEKONTROLLIEREN:'Please control your input data. Then press button "Send form" at end of page. To correct your input data, please use the button "Re-Edit".',msgidFORMACHTUNG:"Your input has not been sent yet."}};return{translate:function(e){let t;return(t=n[this.locale]||n.de)[e]?t[e]:e},setLocale:function(e){e&&(this.locale=e)}}}(jQuery),BO.toggler=BO.toggler||{},BO.init.toggler=function(n){n(".land-toggler").each(function(e){var t=n(this);n(".toggler-button-inner",this).on("click",function(){n(".land-toggler-button",t).addClass("collapsed")})}),n("[id^=btn-download]").each(function(e,t){n(t).attr("tabindex","-1")})},BO.toggler={makeAccessible:function(e,t,n,i,o,a){var r=("download"!=a&&"download-close"!=a?$("#toggler_"+e):$("#"+e)).hasClass("collapsed");r?("faq"==a&&($("#toggler_"+e).attr("aria-label",n),$("#toggler_"+e).attr("title",o),$("#"+e).trigger("focus")),"geo"==a&&($("#toggler_"+e).attr("aria-label",n),$("#toggler_"+e).attr("title",o),$("#collapse-"+e).trigger("focus")),"form"==a&&($("#toggler_"+e).attr("aria-label",o),$("#toggler_"+e).attr("title",n),$("#toggler_"+e).html(n),$("#toggler_"+e).trigger("focus"),$("#accordionbody"+e).attr("tabindex","0")),"download"==a&&($("#"+e).attr("aria-label",n),$("#"+e).attr("title",o),$("[id^="+a+e.replace("modul_headline","")+"]").each(function(e,t){$(t).attr("tabindex","0")}),$("[id^=btn-"+a+e.replace("modul_headline","")+"]").each(function(e,t){$(t).attr("tabindex","0")}),$("[id^=link-close"+e.replace("modul_headline","")+"]").each(function(e,t){$(t).attr("tabindex","0")}))):("faq"!=a&&"geo"!=a||($("#toggler_"+e).attr("aria-label",t),$("#toggler_"+e).attr("title",i),$("#toggler_"+e).trigger("focus")),"form"==a&&($("#toggler_"+e).attr("aria-label",i),$("#toggler_"+e).attr("title",t),$("#toggler_"+e).html(t),$("#toggler_"+e).trigger("focus"),$("#accordionbody"+e).attr("tabindex","-1")),"download"==a&&($("#"+e).attr("aria-label",i),$("#"+e).attr("title",t),$("#"+e).trigger("focus"),$("[id^="+a+e.replace("modul_headline","")+"]").each(function(e,t){$(t).attr("tabindex","-1")}),$("[id^=btn-"+a+e.replace("modul_headline","")+"]").each(function(e,t){$(t).attr("tabindex","-1")}),$("[id^=link-close"+e.replace("modul_headline","")+"]").each(function(e,t){$(t).attr("tabindex","-1")})),"download-close"==a&&($("#"+e).addClass("collapsed"),$("#"+e).attr("aria-label",o),$("#"+e).attr("title",n),$("#"+e).trigger("focus"),$("[id^=download"+e.replace("modul_headline","")+"]").each(function(e,t){$(t).attr("tabindex","-1")}),$("[id^=btn-download"+e.replace("modul_headline","")+"]").each(function(e,t){$(t).attr("tabindex","-1")}),$("[id^=link-close"+e.replace("modul_headline","")+"]").each(function(e,t){$(t).attr("tabindex","-1")})))}},BO.init.swiper=function(a){"undefined"!=typeof Swiper&&a.isFunction(Swiper)&&a(".swiper-stagecontainer .js-swiper-stagecontainer").each(function(e,t){a(this).addClass("js-swiper-stagecontainer-"+e);var n=a(this),i=!0,o=new Swiper(".js-swiper-stagecontainer",{loop:!0,autoplay:{delay:6e3},lazy:{loadPrevNext:!0},pagination:{el:".swiper-pagination",type:"bullets"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init:function(e){a(document).on("scroll",function(e){t.getBoundingClientRect().bottom<=0?o.autoplay.stop():0!=i&&o.autoplay.start()})},autoplayStart:function(e){a(".swiper-stagecontainer__startstop",n).length||n.append('<div class="swiper-stagecontainer__startstop"><button class="toggler pause"></button></div>'),a(".swiper-stagecontainer__startstop .toggler",n).attr("title","Bildwechsel anhalten").html('<i class="fa fa-pause" aria-hidden="true"></i>').removeClass("start").addClass("pause").on("click",function(){o.autoplay.stop(),i=!1})},autoplayStop:function(e){a(".swiper-stagecontainer__startstop .toggler",n).attr("title","Bildwechsel starten").html('<i class="fa fa-play" aria-hidden="true"></i>').removeClass("pause").addClass("start").on("click",function(){o.autoplay.start(),i=!0})}}})})},BO.init.footermenucollapse=function(t){t(".js-footer-menu-collapse.footernav").each(function(){t(this).addClass("closed")}),t(".js-footer-menu-collapse.footernav .title").on("tap click",function(e){return t(this).parent().toggleClass("closed"),t(this).parent().toggleClass("opened"),!1}),t(".js-footer-menu-collapse.footernav ul a").on("focus",function(){t(this).closest(".footernav").addClass("opened"),t(this).closest(".footernav").removeClass("closed")})},BO.datawrapper=BO.datawrapper||{},BO.datawrapper={datawrapper_accept:function(e){var t=$("#datawrapper"+e),n=t.data("markup");t.html(n),$("#tabbable"+e).trigger("focus")}};
/* ==========================================================
 * bootstrap-carousel.js v2.3.2
 * http://getbootstrap.com/2.3.2/javascript.html#carousel
 * ==========================================================
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */


!function ($) {

  "use strict"; // jshint ;_;


 /* CAROUSEL CLASS DEFINITION
  * ========================= */

  var Carousel = function (element, options) {
    this.$element = $(element)
    this.$indicators = this.$element.find('.carousel-indicators')
    this.options = options
    this.options.pause == 'hover' && this.$element
      .on('mouseenter', $.proxy(this.pause, this))
      .on('mouseleave', $.proxy(this.cycle, this))
  }

  Carousel.prototype = {

    cycle: function (e) {
      if (!e) this.paused = false
      if (this.interval) clearInterval(this.interval);
      this.options.interval
        && !this.paused
        && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))
      return this
    }

  , getActiveIndex: function () {
      this.$active = this.$element.find('.item.active')
      this.$items = this.$active.parent().children()
      return this.$items.index(this.$active)
    }

  , to: function (pos) {
      var activeIndex = this.getActiveIndex()
        , that = this

      if (pos > (this.$items.length - 1) || pos < 0) return

      if (this.sliding) {
        return this.$element.one('slid', function () {
          that.to(pos)
        })
      }

      if (activeIndex == pos) {
        return this.pause().cycle()
      }

      return this.slide(pos > activeIndex ? 'next' : 'prev', $(this.$items[pos]))
    }

  , pause: function (e) {
      if (!e) this.paused = true
      if (this.$element.find('.next, .prev').length && $.support.transition.end) {
        this.$element.trigger($.support.transition.end)
        this.cycle(true)
      }
      clearInterval(this.interval)
      this.interval = null
      return this
    }

  , next: function () {
      if (this.sliding) return
      return this.slide('next')
    }

  , prev: function () {
      if (this.sliding) return
      return this.slide('prev')
    }

  , slide: function (type, next) {
      var $active = this.$element.find('.item.active')
        , $next = next || $active[type]()
        , isCycling = this.interval
        , direction = type == 'next' ? 'left' : 'right'
        , fallback  = type == 'next' ? 'first' : 'last'
        , that = this
        , e

      this.sliding = true

      isCycling && this.pause()

      $next = $next.length ? $next : this.$element.find('.item')[fallback]()

      e = $.Event('slide', {
        relatedTarget: $next[0]
      , direction: direction
      })

      if ($next.hasClass('active')) return

      if (this.$indicators.length) {
        this.$indicators.find('.active').removeClass('active')
        this.$element.one('slid', function () {
          var $nextIndicator = $(that.$indicators.children()[that.getActiveIndex()])
          $nextIndicator && $nextIndicator.addClass('active')
        })
      }

      if ($.support.transition && this.$element.hasClass('slide')) {
        this.$element.trigger(e)
        if (e.isDefaultPrevented()) return
        $next.addClass(type)
        $next[0].offsetWidth // force reflow
        $active.addClass(direction)
        $next.addClass(direction)
        this.$element.one($.support.transition.end, function () {
          $next.removeClass([type, direction].join(' ')).addClass('active')
          $active.removeClass(['active', direction].join(' '))
          that.sliding = false
          setTimeout(function () { that.$element.trigger('slid') }, 0)
        })
      } else {
        this.$element.trigger(e)
        if (e.isDefaultPrevented()) return
        $active.removeClass('active')
        $next.addClass('active')
        this.sliding = false
        this.$element.trigger('slid')
      }

      isCycling && this.cycle()

      return this
    }

  }


 /* CAROUSEL PLUGIN DEFINITION
  * ========================== */

  var old = $.fn.carousel

  $.fn.carousel = function (option) {
    return this.each(function () {
      var $this = $(this)
        , data = $this.data('carousel')
        , options = $.extend({}, $.fn.carousel.defaults, typeof option == 'object' && option)
        , action = typeof option == 'string' ? option : options.slide
      if (!data) $this.data('carousel', (data = new Carousel(this, options)))
      if (typeof option == 'number') data.to(option)
      else if (action) data[action]()
      else if (options.interval) data.pause().cycle()
    })
  }

  $.fn.carousel.defaults = {
    interval: 5000
  , pause: 'hover'
  }

  $.fn.carousel.Constructor = Carousel


 /* CAROUSEL NO CONFLICT
  * ==================== */

  $.fn.carousel.noConflict = function () {
    $.fn.carousel = old
    return this
  }

 /* CAROUSEL DATA-API
  * ================= */

  $(document).on('click.carousel.data-api', '[data-slide], [data-slide-to]', function (e) {
    var $this = $(this), href
      , $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) //strip for ie7
      , options = $.extend({}, $target.data(), $this.data())
      , slideIndex

    $target.carousel(options)

    if (slideIndex = $this.attr('data-slide-to')) {
      $target.data('carousel').pause().to(slideIndex).cycle()
    }

    e.preventDefault()
  })

}(window.jQuery);